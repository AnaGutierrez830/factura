<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solicitud de factura</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200&display=swap" rel="stylesheet">
</head>

<div class=“img-bg”><img src="ks-banner-factura.png" style="width: 100%; height: 430px; object-fit: cover; "></div>



<body>
    
    <center><p class="titulo"><b>SOLICITA TU FACTURA</b></p></center>
    <center><p class="texto">Ingresa los siguientes datos para continuar con tu solicitud</p></center>
    
    
    <section class="form-register">

<p class="subtitulos"><b>Número de orden</b> </p>
        <input class="controls" type="text" name="Número de orden" id="order" placeholder="#0001">

<p class="subtitulos"><b>Clave RFC</b></p>
        <input class="controls"  type="text" name="RFC" id="rfc" placeholder="Ingrese su clave RFC">

<p class="subtitulos"><b>Correo electrónico</b></p>
        <input class="controls"  type="email" name="Correo electrónico" id="correo" placeholder="Ingrese su correo electrónico">

        <!-- <a href="datosfactura/gracias.html"><input class="botons" type="submit" value="SOLICITAR FACTURA"></a> -->
        <input class="botons" type="submit" value="SOLICITAR FACTURA">

    </section>



    
</body>

<script>
const contactform= document.querySelector(".form-register");
let order = document.getElementById("order");
let rfc = document.getElementById("rfc");
let correo = document.getElementById("correo");

contactform.addEventListener("submit", (e)=>{
    e.preventDefault();

    let FormData = {
        order: order.value,
        rfc: rfc.value,
        correo: correo.value,
    }

    let xhr = new XMLHttpRequest();
    xhr.open("POST","https://ks-factura.herokuapp.com/");
    xhr.setRequestHeader("content-type", "application/json"); 
    xhr.onload = function(){
        console.log(xhr.responseText);
        if(xhr.responseText == "success"){
            alert("Información enviada");
            order.value = "";
            rfc.value = "";
            correo.value = "";
        }else{
            alert("Algo salió mal, vuleve a intentarlo.")
        }
    }

   xhr.send(JSON.stringify(FormData));


</script>

</html>








  